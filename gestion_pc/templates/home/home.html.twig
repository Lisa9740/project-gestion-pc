{% extends 'base.html.twig' %}

{% block title %}Gestion PC{% endblock %}

{% block body %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="#">Gestion PC</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <div class="float-right"><a class="nav-link " href="{{ path('app_logout') }}">DÃ©connexion</a></div>
                </li>
            </ul>
        </div>

    </nav>
    <div class="container p-5">
        <input type="date" id="date-input" min="{{ date }}">
        <div class="nav-container py-3"></div>
        <button class="float-right btn btn-primary" data-toggle="modal" data-target="#add-computer"> Ajouter un ordinateur</button>
        {% include 'computer/modal/create.html.twig' %}
        {{ render(controller('App\\Controller\\ComputerController::indexComputer')) }}
    </div>
{% endblock %}
{% block javascripts %}
    <script>
        const editComputerContainer = $('#edit-computer-container')
        $("#add-customer-attribution").on('show.bs.modal', function (e) {
            const hour = $(e.relatedTarget).data('hour');
            const computer = $(e.relatedTarget).data('computer');
            $(this).find('#hour').val(hour);
            $(this).find('#computer').val(computer);
        });
        $('#date-input').val({{ date }})
    </script>
{% endblock %}
